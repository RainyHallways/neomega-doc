import{_ as s,c as a,o as l,Q as n}from"./chunks/framework.c009d427.js";const h=JSON.parse('{"title":"玩家交互","description":"命令示例","frontmatter":{"lang":"zh-CN","title":"玩家交互","description":"命令示例"},"headers":[],"relativePath":"coromega_examples/玩家交互与命令方块API/index.md","filePath":"coromega_examples/玩家交互与命令方块API/index.md","lastUpdated":1724487756000}'),o={name:"coromega_examples/玩家交互与命令方块API/index.md"},p=n(`<h1 id="玩家交互-聊天和命令块消息监听相关api" tabindex="-1">玩家交互&amp;聊天和命令块消息监听相关API <a class="header-anchor" href="#玩家交互-聊天和命令块消息监听相关api" aria-label="Permalink to &quot;玩家交互&amp;聊天和命令块消息监听相关API&quot;">​</a></h1><h2 id="获取玩家对象" tabindex="-1">获取玩家对象 <a class="header-anchor" href="#获取玩家对象" aria-label="Permalink to &quot;获取玩家对象&quot;">​</a></h2><h3 id="通过名字或uuid获取" tabindex="-1">通过名字或uuid获取 <a class="header-anchor" href="#通过名字或uuid获取" aria-label="Permalink to &quot;通过名字或uuid获取&quot;">​</a></h3><ul><li>get_player(uuid_string_or_name) <ul><li>范围:任意</li><li>说明:获取指定名字或uuid的玩家对象</li><li>参数: <ul><li>name:玩家名</li></ul></li><li>返回值:player对象</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> player </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">get_player</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;2401pt&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> player </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">get_player</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;xxxxxxxx&quot;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> player </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">get_player</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;2401pt&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> player </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">get_player</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;xxxxxxxx&quot;</span><span style="color:#24292E;">)</span></span></code></pre></div></li></ul><h3 id="通过名字获取玩家对象" tabindex="-1">通过名字获取玩家对象 <a class="header-anchor" href="#通过名字获取玩家对象" aria-label="Permalink to &quot;通过名字获取玩家对象&quot;">​</a></h3><ul><li>get_player_by_name(player_name) <ul><li>范围:任意</li><li>说明:获取指定名字的获取玩家对象</li><li>参数: <ul><li>player_name:玩家名</li></ul></li><li>返回值:玩家对象</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> player </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">get_player_by_name</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;2401pt&quot;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> player </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">get_player_by_name</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;2401pt&quot;</span><span style="color:#24292E;">)</span></span></code></pre></div></li></ul><h3 id="通过uuid获取玩家对象" tabindex="-1">通过uuid获取玩家对象 <a class="header-anchor" href="#通过uuid获取玩家对象" aria-label="Permalink to &quot;通过uuid获取玩家对象&quot;">​</a></h3><ul><li>get_player_by_uuid_string(uuid_string) <ul><li>范围:任意</li><li>说明:获取指定uuid的玩家对象</li><li>参数: <ul><li>uuid_string:uuid字符串</li></ul></li><li>返回值:玩家对象</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> player </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">get_player_by_uuid_string</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;xxxxxxxx&quot;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> player </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">get_player_by_uuid_string</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;xxxxxxxx&quot;</span><span style="color:#24292E;">)</span></span></code></pre></div></li></ul><h2 id="获取所有在线玩家对象" tabindex="-1">获取所有在线玩家对象 <a class="header-anchor" href="#获取所有在线玩家对象" aria-label="Permalink to &quot;获取所有在线玩家对象&quot;">​</a></h2><ul><li>get_all_online_players() <ul><li>范围:任意</li><li>说明:获取所有在线玩家的玩家对象</li><li>参数:无</li><li>返回值:玩家对象数组</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> players </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">get_all_online_players</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> players </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">get_all_online_players</span><span style="color:#24292E;">()</span></span></code></pre></div></li></ul><h2 id="接收命令消息事件" tabindex="-1">接收命令消息事件 <a class="header-anchor" href="#接收命令消息事件" aria-label="Permalink to &quot;接收命令消息事件&quot;">​</a></h2><ul><li>when_receive_msg_from_command_block_named(command_block_name) <ul><li>范围:任意</li><li>说明:当收到命令块消息时，启动一个新协程并执行指定函数</li><li>参数: <ul><li>command_block_name:命令块名字</li></ul></li><li>返回值:监听器 -含有方法:start_new(function) <blockquote><p>允许在监听器触发时启动函数并且放入新的协程</p></blockquote></li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 命令块命名为 &quot;扫地机&quot;，指令为 tell 机器人名字 去扫地</span></span>
<span class="line"><span style="color:#6A737D;">-- 当收到命令块的消息时，执行回调</span></span>
<span class="line"><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">when_receive_msg_from_command_block_named</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;扫地机&quot;</span><span style="color:#E1E4E8;">):</span><span style="color:#79B8FF;">start_new</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">(chat)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">log</span><span style="color:#E1E4E8;">((</span><span style="color:#9ECBFF;">&quot;command block (%s) chat: %s&quot;</span><span style="color:#E1E4E8;">):</span><span style="color:#79B8FF;">format</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;扫地机&quot;</span><span style="color:#E1E4E8;">, json.</span><span style="color:#79B8FF;">encode</span><span style="color:#E1E4E8;">(chat)))</span></span>
<span class="line"><span style="color:#F97583;">end</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 命令块命名为 &quot;扫地机&quot;，指令为 tell 机器人名字 去扫地</span></span>
<span class="line"><span style="color:#6A737D;">-- 当收到命令块的消息时，执行回调</span></span>
<span class="line"><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">when_receive_msg_from_command_block_named</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;扫地机&quot;</span><span style="color:#24292E;">):</span><span style="color:#005CC5;">start_new</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(chat)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">log</span><span style="color:#24292E;">((</span><span style="color:#032F62;">&quot;command block (%s) chat: %s&quot;</span><span style="color:#24292E;">):</span><span style="color:#005CC5;">format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;扫地机&quot;</span><span style="color:#24292E;">, json.</span><span style="color:#005CC5;">encode</span><span style="color:#24292E;">(chat)))</span></span>
<span class="line"><span style="color:#D73A49;">end</span><span style="color:#24292E;">)</span></span></code></pre></div></li></ul><h2 id="实体消息事件" tabindex="-1">实体消息事件 <a class="header-anchor" href="#实体消息事件" aria-label="Permalink to &quot;实体消息事件&quot;">​</a></h2><ul><li>when_receive_msg_from_sender_named(name) <ul><li>范围:任意</li><li>说明:当收到指定名字的消息时, 这个名字可以是物品名，启动一个新协程并执行指定函数</li><li>参数: <ul><li>name:发送者名字</li></ul></li><li>返回值:监听器 -含有方法:start_new(function) <blockquote><p>允许在监听器触发时启动函数并且放入新的协程</p></blockquote></li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 命令块指令为 execute @e[type=snowball] ~ ~ ~ tell 机器人名字 @p[r=3]</span></span>
<span class="line"><span style="color:#6A737D;">-- 当收到命令块的消息时，执行回调</span></span>
<span class="line"><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">when_receive_msg_from_sender_named</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;雪球&quot;</span><span style="color:#E1E4E8;">):</span><span style="color:#79B8FF;">start_new</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">(chat)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">log</span><span style="color:#E1E4E8;">((</span><span style="color:#9ECBFF;">&quot;item (%s) chat: %s&quot;</span><span style="color:#E1E4E8;">):</span><span style="color:#79B8FF;">format</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;雪球&quot;</span><span style="color:#E1E4E8;">, json.</span><span style="color:#79B8FF;">encode</span><span style="color:#E1E4E8;">(chat)))</span></span>
<span class="line"><span style="color:#F97583;">end</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 命令块指令为 execute @e[type=snowball] ~ ~ ~ tell 机器人名字 @p[r=3]</span></span>
<span class="line"><span style="color:#6A737D;">-- 当收到命令块的消息时，执行回调</span></span>
<span class="line"><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">when_receive_msg_from_sender_named</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;雪球&quot;</span><span style="color:#24292E;">):</span><span style="color:#005CC5;">start_new</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(chat)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">log</span><span style="color:#24292E;">((</span><span style="color:#032F62;">&quot;item (%s) chat: %s&quot;</span><span style="color:#24292E;">):</span><span style="color:#005CC5;">format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;雪球&quot;</span><span style="color:#24292E;">, json.</span><span style="color:#005CC5;">encode</span><span style="color:#24292E;">(chat)))</span></span>
<span class="line"><span style="color:#D73A49;">end</span><span style="color:#24292E;">)</span></span></code></pre></div></li></ul><h2 id="聊天消息事件" tabindex="-1">聊天消息事件 <a class="header-anchor" href="#聊天消息事件" aria-label="Permalink to &quot;聊天消息事件&quot;">​</a></h2><ul><li>when_chat_msg() <ul><li>范围:任意</li><li>说明:当收到聊天消息时，启动一个新协程并执行指定函数</li><li>返回值:监听器 -含有方法:start_new(function) <blockquote><p>允许在监听器触发时启动函数并且放入新的协程</p></blockquote></li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">when_chat_msg</span><span style="color:#E1E4E8;">():</span><span style="color:#79B8FF;">start_new</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">(chat)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">log</span><span style="color:#E1E4E8;">((</span><span style="color:#9ECBFF;">&quot;chat sender: %s &gt; %s&quot;</span><span style="color:#E1E4E8;">):</span><span style="color:#79B8FF;">format</span><span style="color:#E1E4E8;">(chat.</span><span style="color:#B392F0;">name</span><span style="color:#E1E4E8;">, json.</span><span style="color:#79B8FF;">encode</span><span style="color:#E1E4E8;">(chat)))</span></span>
<span class="line"><span style="color:#F97583;">end</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">when_chat_msg</span><span style="color:#24292E;">():</span><span style="color:#005CC5;">start_new</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(chat)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">log</span><span style="color:#24292E;">((</span><span style="color:#032F62;">&quot;chat sender: %s &gt; %s&quot;</span><span style="color:#24292E;">):</span><span style="color:#005CC5;">format</span><span style="color:#24292E;">(chat.</span><span style="color:#6F42C1;">name</span><span style="color:#24292E;">, json.</span><span style="color:#005CC5;">encode</span><span style="color:#24292E;">(chat)))</span></span>
<span class="line"><span style="color:#D73A49;">end</span><span style="color:#24292E;">)</span></span></code></pre></div></li></ul><h2 id="玩家在线状态变化事件" tabindex="-1">玩家在线状态变化事件 <a class="header-anchor" href="#玩家在线状态变化事件" aria-label="Permalink to &quot;玩家在线状态变化事件&quot;">​</a></h2><ul><li>when_player_change() <ul><li>范围: 任意</li><li>当玩家的在线情况发生变化时，启动一个新协程并执行指定函数</li><li>返回值:监听器 -含有方法:start_new(function) <blockquote><p>允许在监听器触发时启动函数并且放入新的协程 player 是一个玩家对象</p></blockquote></li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">when_player_change</span><span style="color:#E1E4E8;">():</span><span style="color:#79B8FF;">start_new</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">(player, action)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> action </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;exist&quot; </span><span style="color:#F97583;">then</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">log</span><span style="color:#E1E4E8;">((</span><span style="color:#9ECBFF;">&quot;player %s 已经在线&quot;</span><span style="color:#E1E4E8;">):</span><span style="color:#79B8FF;">format</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;">()))</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">elseif</span><span style="color:#E1E4E8;"> action </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;online&quot; </span><span style="color:#F97583;">then</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">log</span><span style="color:#E1E4E8;">((</span><span style="color:#9ECBFF;">&quot;player %s 新上线&quot;</span><span style="color:#E1E4E8;">):</span><span style="color:#79B8FF;">format</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;">()))</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">elseif</span><span style="color:#E1E4E8;"> action </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;offline&quot; </span><span style="color:#F97583;">then</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">log</span><span style="color:#E1E4E8;">((</span><span style="color:#9ECBFF;">&quot;player %s 下线&quot;</span><span style="color:#E1E4E8;">):</span><span style="color:#79B8FF;">format</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;">()))</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">end</span></span>
<span class="line"><span style="color:#F97583;">end</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">when_player_change</span><span style="color:#24292E;">():</span><span style="color:#005CC5;">start_new</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(player, action)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> action </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;exist&quot; </span><span style="color:#D73A49;">then</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">log</span><span style="color:#24292E;">((</span><span style="color:#032F62;">&quot;player %s 已经在线&quot;</span><span style="color:#24292E;">):</span><span style="color:#005CC5;">format</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">name</span><span style="color:#24292E;">()))</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">elseif</span><span style="color:#24292E;"> action </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;online&quot; </span><span style="color:#D73A49;">then</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">log</span><span style="color:#24292E;">((</span><span style="color:#032F62;">&quot;player %s 新上线&quot;</span><span style="color:#24292E;">):</span><span style="color:#005CC5;">format</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">name</span><span style="color:#24292E;">()))</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">elseif</span><span style="color:#24292E;"> action </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;offline&quot; </span><span style="color:#D73A49;">then</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">log</span><span style="color:#24292E;">((</span><span style="color:#032F62;">&quot;player %s 下线&quot;</span><span style="color:#24292E;">):</span><span style="color:#005CC5;">format</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">name</span><span style="color:#24292E;">()))</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">end</span></span>
<span class="line"><span style="color:#D73A49;">end</span><span style="color:#24292E;">)</span></span></code></pre></div></li></ul><h2 id="player对象的函数" tabindex="-1">player对象的函数 <a class="header-anchor" href="#player对象的函数" aria-label="Permalink to &quot;player对象的函数&quot;">​</a></h2><h3 id="发送消息" tabindex="-1">发送消息 <a class="header-anchor" href="#发送消息" aria-label="Permalink to &quot;发送消息&quot;">​</a></h3><ul><li>say(msg) <ul><li>范围:任意</li><li>说明:向指定玩家来发送消息</li><li>参数: <ul><li>msg:消息字符串</li></ul></li><li>返回值:无</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">say</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;hello&quot;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">say</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;hello&quot;</span><span style="color:#24292E;">)</span></span></code></pre></div></li></ul><h3 id="发送tell" tabindex="-1">发送tell <a class="header-anchor" href="#发送tell" aria-label="Permalink to &quot;发送tell&quot;">​</a></h3><ul><li>raw_say(msg) <ul><li>范围:任意</li><li>说明:向指定玩家来发送 tell raw 消息，这个消息应当是一个对象</li><li>参数: <ul><li>msg: 对象，被 json.encode 之后应该符合 tell raw 的规范</li></ul></li><li>返回值:无</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">raw_say</span><span style="color:#E1E4E8;">({rawtext</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{{text</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;hello world&quot;</span><span style="color:#E1E4E8;">}}})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">raw_say</span><span style="color:#24292E;">({rawtext</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{{text</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;hello world&quot;</span><span style="color:#24292E;">}}})</span></span></code></pre></div></li></ul><h3 id="获取输入" tabindex="-1">获取输入 <a class="header-anchor" href="#获取输入" aria-label="Permalink to &quot;获取输入&quot;">​</a></h3><ul><li>ask(hint) <ul><li>范围:协程内</li><li>说明:获取指定玩家的输入</li><li>参数: <ul><li>hint:提示给玩家的信息</li></ul></li><li>返回值:输入的内容</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> input </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">ask</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;请输入:&quot;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> input </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">ask</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;请输入:&quot;</span><span style="color:#24292E;">)</span></span></code></pre></div></li></ul><h3 id="发送标题-title" tabindex="-1">发送标题（title） <a class="header-anchor" href="#发送标题-title" aria-label="Permalink to &quot;发送标题（title）&quot;">​</a></h3><ul><li>title(title,subtitle) <ul><li>范围:任意</li><li>说明:发送标题</li><li>参数: <ul><li>title:标题</li><li>subtitle:副标题</li></ul></li><li>返回值:无</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">title</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;hello&quot;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&quot;world&quot;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">title</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;hello&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;world&quot;</span><span style="color:#24292E;">)</span></span></code></pre></div></li></ul><h3 id="发送副标题" tabindex="-1">发送副标题 <a class="header-anchor" href="#发送副标题" aria-label="Permalink to &quot;发送副标题&quot;">​</a></h3><ul><li>subtitle(subtitle,title) <ul><li>范围:任意</li><li>说明:发送副标题 如果主标题为nil则不会显示subtitle</li><li>参数: <ul><li>subtitle:副标题</li><li>title:标题</li></ul></li><li>返回值:无</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">subtitle</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;world&quot;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&quot;hello&quot;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">subtitle</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;world&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;hello&quot;</span><span style="color:#24292E;">)</span></span></code></pre></div></li></ul><h3 id="发送action-bar" tabindex="-1">发送action_bar <a class="header-anchor" href="#发送action-bar" aria-label="Permalink to &quot;发送action_bar&quot;">​</a></h3><ul><li>action_bar(msg) <ul><li>范围:任意</li><li>说明:发送actionbar</li><li>参数: <ul><li>msg:消息</li></ul></li><li>返回值:无</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">action_bar</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;hi&quot;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">action_bar</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;hi&quot;</span><span style="color:#24292E;">)</span></span></code></pre></div></li></ul><h3 id="获得玩家坐标和维度" tabindex="-1">获得玩家坐标和维度 <a class="header-anchor" href="#获得玩家坐标和维度" aria-label="Permalink to &quot;获得玩家坐标和维度&quot;">​</a></h3><ul><li>get_pos() <ul><li>范围:协程内</li><li>说明:获得玩家坐标和维度 (实际上是 query player 的包装)</li><li>返回值:{position:{x:float,y:float,z=float},dimension:int}</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> pos </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">get_pos</span><span style="color:#E1E4E8;">().</span><span style="color:#B392F0;">position</span></span>
<span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> x </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">math.floor</span><span style="color:#E1E4E8;">(pos.</span><span style="color:#B392F0;">x</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> y </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">math.floor</span><span style="color:#E1E4E8;">(pos.</span><span style="color:#B392F0;">y</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> z </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">math.floor</span><span style="color:#E1E4E8;">(pos.</span><span style="color:#B392F0;">z</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> dimension</span><span style="color:#F97583;">=</span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">get_pos</span><span style="color:#E1E4E8;">().</span><span style="color:#B392F0;">dimension</span></span>
<span class="line"><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">print</span><span style="color:#E1E4E8;">(dimension)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> pos </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">get_pos</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">position</span></span>
<span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> x </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">math.floor</span><span style="color:#24292E;">(pos.</span><span style="color:#6F42C1;">x</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> y </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">math.floor</span><span style="color:#24292E;">(pos.</span><span style="color:#6F42C1;">y</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> z </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">math.floor</span><span style="color:#24292E;">(pos.</span><span style="color:#6F42C1;">z</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> dimension</span><span style="color:#D73A49;">=</span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">get_pos</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">dimension</span></span>
<span class="line"><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">print</span><span style="color:#24292E;">(dimension)</span></span></code></pre></div></li></ul><h3 id="判断玩家条件" tabindex="-1">判断玩家条件 <a class="header-anchor" href="#判断玩家条件" aria-label="Permalink to &quot;判断玩家条件&quot;">​</a></h3><ul><li>check(conditions) <ul><li>范围:协程内</li><li>说明:检查玩家是否满足条件 为条件限制器效果:@a[xxxxxxxx]</li><li>参数: <ul><li>conditions:条件字符串 列如:{ &quot;m=c&quot;, &quot;tag=!no_omega&quot;,&quot;tag=!ban&quot; } 其会被拼装为指令 querytarget @a[name=玩家名,m=c,tag=!no_omega,tag=!ban]</li></ul></li><li>返回值:是否满足条件</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> result </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">check</span><span style="color:#E1E4E8;">({ </span><span style="color:#9ECBFF;">&quot;m=c&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;tag=!ban&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;tag=!ban&quot; </span><span style="color:#E1E4E8;">})</span></span>
<span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> result </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">check</span><span style="color:#E1E4E8;">({ </span><span style="color:#9ECBFF;">&quot;m=c&quot;</span><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">check</span><span style="color:#24292E;">({ </span><span style="color:#032F62;">&quot;m=c&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;tag=!ban&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;tag=!ban&quot; </span><span style="color:#24292E;">})</span></span>
<span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">check</span><span style="color:#24292E;">({ </span><span style="color:#032F62;">&quot;m=c&quot;</span><span style="color:#24292E;">})</span></span></code></pre></div></li></ul><h3 id="获取玩家-uuid" tabindex="-1">获取玩家 uuid <a class="header-anchor" href="#获取玩家-uuid" aria-label="Permalink to &quot;获取玩家 uuid&quot;">​</a></h3><ul><li>uuid_string() <ul><li>范围:协程内</li><li>说明:获取玩家的uuid字符串</li><li>参数:无</li><li>返回值:uuid字符串,是否获得该信息</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> uuid </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">uuid_string</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> uuid,found </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">uuid_string</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> uuid </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">uuid_string</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> uuid,found </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">uuid_string</span><span style="color:#24292E;">()</span></span></code></pre></div></li></ul><h3 id="获取玩家名字" tabindex="-1">获取玩家名字 <a class="header-anchor" href="#获取玩家名字" aria-label="Permalink to &quot;获取玩家名字&quot;">​</a></h3><ul><li>name() <ul><li>范围:协程内</li><li>说明:获取玩家的名字</li><li>参数:无</li><li>返回值:玩家名,是否获得该信息</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> name </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> name,found </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> name </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">name</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> name,found </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">name</span><span style="color:#24292E;">()</span></span></code></pre></div></li></ul><h3 id="获取玩家id" tabindex="-1">获取玩家id <a class="header-anchor" href="#获取玩家id" aria-label="Permalink to &quot;获取玩家id&quot;">​</a></h3><ul><li>entity_unique_id() <ul><li>范围:协程内</li><li>说明:获取玩家的实体唯一id</li><li>参数:无</li><li>返回值:实体唯一id,是否获得该信息</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> id </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">entity_unique_id</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> id,found </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">entity_unique_id</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> id </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">entity_unique_id</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> id,found </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">entity_unique_id</span><span style="color:#24292E;">()</span></span></code></pre></div></li></ul><h3 id="获取玩家登录时间" tabindex="-1">获取玩家登录时间 <a class="header-anchor" href="#获取玩家登录时间" aria-label="Permalink to &quot;获取玩家登录时间&quot;">​</a></h3><ul><li>login_time() <ul><li>范围:协程内</li><li>说明:获取玩家的登录时间(unix time)， 其类型与 :now() 一致，单位秒</li><li>参数:无</li><li>返回值:登录时间,是否获得该信息</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> time </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">login_time</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> time,found </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">login_time</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> time </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">login_time</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> time,found </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">login_time</span><span style="color:#24292E;">()</span></span></code></pre></div></li></ul><h3 id="获取玩家平台聊天id" tabindex="-1">获取玩家平台聊天id <a class="header-anchor" href="#获取玩家平台聊天id" aria-label="Permalink to &quot;获取玩家平台聊天id&quot;">​</a></h3><ul><li>platform_chat_id() <ul><li>范围:协程内</li><li>说明:获取玩家的平台聊天id</li><li>参数:无</li><li>返回值:平台聊天id,是否获得该信息</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> id </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">platform_chat_id</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> id,found </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">platform_chat_id</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> id </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">platform_chat_id</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> id,found </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">platform_chat_id</span><span style="color:#24292E;">()</span></span></code></pre></div></li></ul><h3 id="获取玩家皮肤id" tabindex="-1">获取玩家皮肤id <a class="header-anchor" href="#获取玩家皮肤id" aria-label="Permalink to &quot;获取玩家皮肤id&quot;">​</a></h3><ul><li>skin_id() <ul><li>范围:协程内</li><li>说明:获取玩家的皮肤id</li><li>参数:无</li><li>返回值:皮肤id,是否获得该信息</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> id </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">skin_id</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> id,found </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">skin_id</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> id </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">skin_id</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> id,found </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">skin_id</span><span style="color:#24292E;">()</span></span></code></pre></div></li></ul><h3 id="获取玩家属性标识" tabindex="-1">获取玩家属性标识 <a class="header-anchor" href="#获取玩家属性标识" aria-label="Permalink to &quot;获取玩家属性标识&quot;">​</a></h3><ul><li>properties_flag() <ul><li>范围:协程内</li><li>说明:获取玩家的属性标识</li><li>参数:无</li><li>返回值:属性标识,是否获得该信息</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> flag </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">properties_flag</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> flag,found </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">properties_flag</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> flag </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">properties_flag</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> flag,found </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">properties_flag</span><span style="color:#24292E;">()</span></span></code></pre></div></li></ul><h3 id="获取玩家命令权限等级" tabindex="-1">获取玩家命令权限等级 <a class="header-anchor" href="#获取玩家命令权限等级" aria-label="Permalink to &quot;获取玩家命令权限等级&quot;">​</a></h3><ul><li>command_permission_level() <ul><li>范围:协程内</li><li>说明:获取玩家的命令权限等级</li><li>参数:无</li><li>返回值:命令权限等级,是否获得该信息</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> level </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">command_permission_level</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> level,found </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">command_permission_level</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> level </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">command_permission_level</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> level,found </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">command_permission_level</span><span style="color:#24292E;">()</span></span></code></pre></div></li></ul><h3 id="获取玩家动作权限" tabindex="-1">获取玩家动作权限 <a class="header-anchor" href="#获取玩家动作权限" aria-label="Permalink to &quot;获取玩家动作权限&quot;">​</a></h3><ul><li>action_permissions() <ul><li>范围:协程内</li><li>说明:获取玩家的动作权限</li><li>参数:无</li><li>返回值:动作权限,是否获得该信息</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> permissions </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">action_permissions</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> permissions,found </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">action_permissions</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> permissions </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">action_permissions</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> permissions,found </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">action_permissions</span><span style="color:#24292E;">()</span></span></code></pre></div></li></ul><h3 id="获取玩家op权限等级" tabindex="-1">获取玩家op权限等级 <a class="header-anchor" href="#获取玩家op权限等级" aria-label="Permalink to &quot;获取玩家op权限等级&quot;">​</a></h3><ul><li>op_permission_level() <ul><li>范围:协程内</li><li>说明:获取玩家的op权限等级</li><li>参数:无</li><li>返回值:op权限等级,是否获得该信息</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> level </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">op_permission_level</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> level,found </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">op_permission_level</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> level </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">op_permission_level</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> level,found </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">op_permission_level</span><span style="color:#24292E;">()</span></span></code></pre></div></li></ul><h3 id="获取玩家自定义存储权限" tabindex="-1">获取玩家自定义存储权限 <a class="header-anchor" href="#获取玩家自定义存储权限" aria-label="Permalink to &quot;获取玩家自定义存储权限&quot;">​</a></h3><ul><li>custom_stores_permissions() <ul><li>范围:协程内</li><li>说明:获取玩家的自定义存储权限</li><li>参数:无</li><li>返回值:自定义存储权限,是否获得该信息</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> permissions </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">custom_stores_permissions</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> permissions,found </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">custom_stores_permissions</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> permissions </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">custom_stores_permissions</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> permissions,found </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">custom_stores_permissions</span><span style="color:#24292E;">()</span></span></code></pre></div></li></ul><h3 id="获取玩家设备id" tabindex="-1">获取玩家设备id <a class="header-anchor" href="#获取玩家设备id" aria-label="Permalink to &quot;获取玩家设备id&quot;">​</a></h3><ul><li>device_id() <ul><li>范围:协程内</li><li>说明:获取玩家的设备id</li><li>参数:无</li><li>返回值:设备id,是否获得了该信息</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> id,found </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">device_id</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> id,found </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">device_id</span><span style="color:#24292E;">()</span></span></code></pre></div></li></ul><h3 id="获取玩家runtimeid" tabindex="-1">获取玩家runtimeId <a class="header-anchor" href="#获取玩家runtimeid" aria-label="Permalink to &quot;获取玩家runtimeId&quot;">​</a></h3><ul><li>entity_runtime_id() <ul><li>范围:协程内</li><li>说明:获取玩家实体的runtime_id</li><li>参数:无</li><li>返回值:runtime_id,是否获得了该信息</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> id,found </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">entity_runtime_id</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> id,found </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">entity_runtime_id</span><span style="color:#24292E;">()</span></span></code></pre></div></li></ul><h3 id="获取玩家实体元数据" tabindex="-1">获取玩家实体元数据 <a class="header-anchor" href="#获取玩家实体元数据" aria-label="Permalink to &quot;获取玩家实体元数据&quot;">​</a></h3><ul><li>entity_metadata() <ul><li>范围:协程内</li><li>说明:获取玩家实体的元数据,是否获得了该信息</li><li>参数:无</li><li>返回值:元数据</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> metadata, found </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">entity_metadata</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> metadata, found </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">entity_metadata</span><span style="color:#24292E;">()</span></span></code></pre></div></li></ul><h2 id="获取玩家的冒险和动作能力等级字典" tabindex="-1">获取玩家的冒险和动作能力等级字典 <a class="header-anchor" href="#获取玩家的冒险和动作能力等级字典" aria-label="Permalink to &quot;获取玩家的冒险和动作能力等级字典&quot;">​</a></h2><ul><li>adventure_and_action_ability_map() <ul><li>范围:协程内</li><li>说明:获取玩家的冒险和动作能力等级字典</li><li>参数:无</li><li>返回值:冒险和动作能力等级字典,是否获得该信息</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> adventure_ability_map, action_permission_ability_map </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">adventure_and_action_ability_map</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> adventure_ability_map, action_permission_ability_map,found </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">adventure_and_action_ability_map</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> adventure_ability_map, action_permission_ability_map </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">adventure_and_action_ability_map</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> adventure_ability_map, action_permission_ability_map,found </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">adventure_and_action_ability_map</span><span style="color:#24292E;">()</span></span></code></pre></div></li></ul><h3 id="更新玩家的权限等级字典" tabindex="-1">更新玩家的权限等级字典 <a class="header-anchor" href="#更新玩家的权限等级字典" aria-label="Permalink to &quot;更新玩家的权限等级字典&quot;">​</a></h3><ul><li>set_adventure_and_permission_ability_map(adventure_ability_map, action_ability_map) <ul><li>范围:协程内</li><li>说明:更新玩家的权限等级字典, 一般和 adventure_and_action_ability_map 搭配使用</li><li>参数: <ul><li>adventure_ability_map:冒险能力等级字典</li><li>action_ability_map:动作能力等级字典</li></ul></li><li>返回值:无</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">set_adventure_and_permission_ability_map</span><span style="color:#E1E4E8;">(adventure_ability_map, action_permission_ability_map)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">set_adventure_and_permission_ability_map</span><span style="color:#24292E;">(adventure_ability_map, action_permission_ability_map)</span></span></code></pre></div></li></ul><h3 id="判断是否为op" tabindex="-1">判断是否为op <a class="header-anchor" href="#判断是否为op" aria-label="Permalink to &quot;判断是否为op&quot;">​</a></h3><ul><li>is_op() <ul><li>范围:协程内</li><li>说明:判断玩家是否为op</li><li>参数:无</li><li>返回值:是否为op,是否获得该信息</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> result </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">is_op</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> result,found </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">is_op</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">is_op</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> result,found </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">is_op</span><span style="color:#24292E;">()</span></span></code></pre></div></li></ul><h3 id="判断是否在线" tabindex="-1">判断是否在线 <a class="header-anchor" href="#判断是否在线" aria-label="Permalink to &quot;判断是否在线&quot;">​</a></h3><ul><li>is_online() <ul><li>范围:协程内</li><li>说明:判断玩家是否在线</li><li>参数:无</li><li>返回值:是否在线</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> result </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">player</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">is_online</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">player</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">is_online</span><span style="color:#24292E;">()</span></span></code></pre></div></li></ul>`,71),e=[p];function t(c,r,i,y,E,u){return l(),a("div",null,e)}const F=s(o,[["render",t]]);export{h as __pageData,F as default};
