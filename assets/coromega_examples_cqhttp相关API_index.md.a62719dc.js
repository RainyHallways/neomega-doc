import{_ as s,c as a,o as l,Q as n}from"./chunks/framework.c009d427.js";const g=JSON.parse('{"title":"cqhttp","description":"cqhttp示例","frontmatter":{"lang":"zh-CN","title":"cqhttp","description":"cqhttp示例"},"headers":[],"relativePath":"coromega_examples/cqhttp相关API/index.md","filePath":"coromega_examples/cqhttp相关API/index.md","lastUpdated":1724487756000}'),o={name:"coromega_examples/cqhttp相关API/index.md"},p=n(`<h1 id="cqhttp-相关api" tabindex="-1">CQHTTP 相关API <a class="header-anchor" href="#cqhttp-相关api" aria-label="Permalink to &quot;CQHTTP 相关API&quot;">​</a></h1><h2 id="向-cqhttp-发送消息" tabindex="-1">向 cqhttp 发送消息 <a class="header-anchor" href="#向-cqhttp-发送消息" aria-label="Permalink to &quot;向 cqhttp 发送消息&quot;">​</a></h2><ul><li>send_cqhttp_message(target,message) <ul><li>范围: 任意</li><li>向 cqhttp 发送消息</li><li>参数 target 的形式诸如 群聊:xxxxx, 频道:xxx(频道名):xxx(聊天室名)</li><li>参数 message 为消息内容</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">send_cqhttp_message</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;群聊:548589654&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;hello world 1&quot;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">send_cqhttp_message</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;群聊:548589654&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;hello world 1&quot;</span><span style="color:#24292E;">)</span></span></code></pre></div></li></ul><h2 id="向默认发送列表发送-cqhttp-消息" tabindex="-1">向默认发送列表发送 cqhttp 消息 <a class="header-anchor" href="#向默认发送列表发送-cqhttp-消息" aria-label="Permalink to &quot;向默认发送列表发送 cqhttp 消息&quot;">​</a></h2><ul><li>send_cqhttp_message_to_default(message) <ul><li>范围: 任意</li><li>向默认发送列表发送 cqhttp 消息</li><li>参数 message 为消息内容</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">send_cqhttp_message_to_default</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;hello world 2&quot;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">send_cqhttp_message_to_default</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;hello world 2&quot;</span><span style="color:#24292E;">)</span></span></code></pre></div></li></ul><h2 id="向指定-qq号-发送私聊消息" tabindex="-1">向指定 qq号 发送私聊消息 <a class="header-anchor" href="#向指定-qq号-发送私聊消息" aria-label="Permalink to &quot;向指定 qq号 发送私聊消息&quot;">​</a></h2><ul><li>send_cqhttp_message_to_id(id,message) <ul><li>范围: 协程内</li><li>向指定 qq号 发送私聊消息</li><li>参数 id 为 qq号</li><li>参数 message 为消息内容</li><li>返回值为是否发送（只代表已发送，但不一定发送成功）</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">send_cqhttp_message_to_id</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1634268014</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;hello world 3&quot;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">send_cqhttp_message_to_id</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1634268014</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;hello world 3&quot;</span><span style="color:#24292E;">)</span></span></code></pre></div></li></ul><h2 id="向指定-群号-发送群聊消息" tabindex="-1">向指定 群号 发送群聊消息 <a class="header-anchor" href="#向指定-群号-发送群聊消息" aria-label="Permalink to &quot;向指定 群号 发送群聊消息&quot;">​</a></h2><ul><li>send_cqhttp_message_to_group(group_id,message) <ul><li>范围: 协程内</li><li>向指定 群号 发送群聊消息</li><li>参数 group_id 为 群号</li><li>参数 message 为消息内容</li><li>返回值为是否发送（只代表已发送，但不一定发送成功）</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">send_cqhttp_message_to_group</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">548589654</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;hello world 4&quot;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">send_cqhttp_message_to_group</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">548589654</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;hello world 4&quot;</span><span style="color:#24292E;">)</span></span></code></pre></div></li></ul><h2 id="指定频道号指定聊天室发送消息" tabindex="-1">指定频道号指定聊天室发送消息 <a class="header-anchor" href="#指定频道号指定聊天室发送消息" aria-label="Permalink to &quot;指定频道号指定聊天室发送消息&quot;">​</a></h2><ul><li>send_cqhttp_message_to_guild(guild_id,channel_id,message) <ul><li>范围: 协程内</li><li>向指定 频道号 的指定 聊天室 发送消息</li><li>参数 guild_id 为 频道号</li><li>参数 channel_id 为 聊天室号</li><li>参数 message 为消息内容</li><li>返回值为是否发送（只代表已发送，但不一定发送成功）</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">send_cqhttp_message_to_guild</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">671889153994807378</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">606767554</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;hello world 5&quot;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">send_cqhttp_message_to_guild</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">671889153994807378</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">606767554</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;hello world 5&quot;</span><span style="color:#24292E;">)</span></span></code></pre></div></li></ul><h2 id="指定群成员信息" tabindex="-1">指定群成员信息 <a class="header-anchor" href="#指定群成员信息" aria-label="Permalink to &quot;指定群成员信息&quot;">​</a></h2><ul><li>get_cqhttp_group_members_info(group_id) <ul><li>范围: 协程内</li><li>获取指定 群号 的群成员信息</li><li>参数 group_id 为 群号</li><li>返回值为群成员信息</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> group_members_info </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">get_cqhttp_group_members_info</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">548589654</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> group_members_info </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">get_cqhttp_group_members_info</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">548589654</span><span style="color:#24292E;">)</span></span></code></pre></div></li></ul><h2 id="已加入的频道信息" tabindex="-1">已加入的频道信息 <a class="header-anchor" href="#已加入的频道信息" aria-label="Permalink to &quot;已加入的频道信息&quot;">​</a></h2><ul><li>get_cqhttp_joined_guilds() <ul><li>范围: 协程内</li><li>获取已加入的频道信息</li><li>返回值为频道信息</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> joined_guilds </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">get_cqhttp_joined_guilds</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> joined_guilds </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">get_cqhttp_joined_guilds</span><span style="color:#24292E;">()</span></span></code></pre></div></li></ul><h2 id="获取指定频道号频道信息" tabindex="-1">获取指定频道号频道信息 <a class="header-anchor" href="#获取指定频道号频道信息" aria-label="Permalink to &quot;获取指定频道号频道信息&quot;">​</a></h2><ul><li>get_cqhttp_guild_channels(guild_id) <ul><li>范围: 协程内</li><li>获取指定 频道号 的频道信息</li><li>参数 guild_id 为 频道号</li><li>返回值为频道信息</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> guild_channels </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">get_cqhttp_guild_channels</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">671889153994807378</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> guild_channels </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">get_cqhttp_guild_channels</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">671889153994807378</span><span style="color:#24292E;">)</span></span></code></pre></div></li></ul><h2 id="获取指定频道号指定成员信息" tabindex="-1">获取指定频道号指定成员信息 <a class="header-anchor" href="#获取指定频道号指定成员信息" aria-label="Permalink to &quot;获取指定频道号指定成员信息&quot;">​</a></h2><ul><li>get_cqhttp_guild_member(guild_id,member_id) <ul><li>范围: 协程内</li><li>获取指定 频道号 的指定 成员 的信息</li><li>参数 guild_id 为 频道号</li><li>参数 member_id 为 成员号</li><li>返回值为成员信息</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> owner_info </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">get_cqhttp_guild_member</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">671889153994807378</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;xxxxxxxxxxx&quot;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> owner_info </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">get_cqhttp_guild_member</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">671889153994807378</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;xxxxxxxxxxx&quot;</span><span style="color:#24292E;">)</span></span></code></pre></div></li></ul><h2 id="监听-cqhttp-消息" tabindex="-1">监听 cqhttp 消息 <a class="header-anchor" href="#监听-cqhttp-消息" aria-label="Permalink to &quot;监听 cqhttp 消息&quot;">​</a></h2><ul><li>when_receive_cqhttp_message() <ul><li>事件端点，协程起点</li><li>监听 cqhttp 消息</li><li>返回值为监听器</li><li>监听器的回调函数的参数为 message_type(消息类型), message(消息), raw_message_string(原始消息)</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">when_receive_cqhttp_message</span><span style="color:#E1E4E8;">():</span><span style="color:#79B8FF;">start_new</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">(message_type, message, raw_message_string)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">print</span><span style="color:#E1E4E8;">((</span><span style="color:#9ECBFF;">&quot;cqhttp 消息&gt; message type: %s, message: %s, raw message string: %s&quot;</span><span style="color:#E1E4E8;">):</span><span style="color:#79B8FF;">format</span><span style="color:#E1E4E8;">(message_type, message,</span></span>
<span class="line"><span style="color:#E1E4E8;">        raw_message_string))</span></span>
<span class="line"><span style="color:#F97583;">end</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">when_receive_cqhttp_message</span><span style="color:#24292E;">():</span><span style="color:#005CC5;">start_new</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(message_type, message, raw_message_string)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">print</span><span style="color:#24292E;">((</span><span style="color:#032F62;">&quot;cqhttp 消息&gt; message type: %s, message: %s, raw message string: %s&quot;</span><span style="color:#24292E;">):</span><span style="color:#005CC5;">format</span><span style="color:#24292E;">(message_type, message,</span></span>
<span class="line"><span style="color:#24292E;">        raw_message_string))</span></span>
<span class="line"><span style="color:#D73A49;">end</span><span style="color:#24292E;">)</span></span></code></pre></div></li></ul><h2 id="监听默认发送列表-cqhttp-消息" tabindex="-1">监听默认发送列表 cqhttp 消息 <a class="header-anchor" href="#监听默认发送列表-cqhttp-消息" aria-label="Permalink to &quot;监听默认发送列表 cqhttp 消息&quot;">​</a></h2><ul><li>when_receive_filtered_cqhttp_message_from_default() <ul><li>事件端点，协程起点</li><li>监听默认发送列表的 cqhttp 消息</li><li>返回值为监听器</li><li>监听器的回调函数的参数为 source(来源), name(名字 昵称#qq号), message(消息)</li></ul><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">when_receive_filtered_cqhttp_message_from_default</span><span style="color:#E1E4E8;">():</span><span style="color:#79B8FF;">start_new</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">(source, name, message)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">print</span><span style="color:#E1E4E8;">((</span><span style="color:#9ECBFF;">&quot;cqhttp 默认监听对象&gt; 来源: %s, 名字: %s, 消息: %s&quot;</span><span style="color:#E1E4E8;">):</span><span style="color:#79B8FF;">format</span><span style="color:#E1E4E8;">(source, name, message))</span></span>
<span class="line"><span style="color:#F97583;">end</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">when_receive_filtered_cqhttp_message_from_default</span><span style="color:#24292E;">():</span><span style="color:#005CC5;">start_new</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(source, name, message)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">print</span><span style="color:#24292E;">((</span><span style="color:#032F62;">&quot;cqhttp 默认监听对象&gt; 来源: %s, 名字: %s, 消息: %s&quot;</span><span style="color:#24292E;">):</span><span style="color:#005CC5;">format</span><span style="color:#24292E;">(source, name, message))</span></span>
<span class="line"><span style="color:#D73A49;">end</span><span style="color:#24292E;">)</span></span></code></pre></div></li></ul><h2 id="综合使用展示参考" tabindex="-1">综合使用展示参考 <a class="header-anchor" href="#综合使用展示参考" aria-label="Permalink to &quot;综合使用展示参考&quot;">​</a></h2><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> omega </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;omega&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#79B8FF;">package.path</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">&quot;%s;%s&quot;</span><span style="color:#E1E4E8;">):</span><span style="color:#79B8FF;">format</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">package.path</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    omega.</span><span style="color:#B392F0;">storage_path</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">get_code_path</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;LuaLoader&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;?.lua&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> coromega </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;coromega&quot;</span><span style="color:#E1E4E8;">).</span><span style="color:#79B8FF;">from</span><span style="color:#E1E4E8;">(omega)</span></span>
<span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> json </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;json&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">start_new</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> group_members_info </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">get_cqhttp_group_members_info</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">548589654</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">print</span><span style="color:#E1E4E8;">(json.</span><span style="color:#79B8FF;">encode</span><span style="color:#E1E4E8;">(group_members_info))</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> joined_guilds </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">get_cqhttp_joined_guilds</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">print</span><span style="color:#E1E4E8;">(json.</span><span style="color:#79B8FF;">encode</span><span style="color:#E1E4E8;">(joined_guilds))</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> _, guild </span><span style="color:#F97583;">in</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">ipairs</span><span style="color:#E1E4E8;">(joined_guilds) </span><span style="color:#F97583;">do</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> guild_id </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> guild.</span><span style="color:#B392F0;">GuildID</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> guild_name </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> guild.</span><span style="color:#B392F0;">GuildName</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> guild_display_id </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> guild.</span><span style="color:#B392F0;">GuildDisplayID</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">print</span><span style="color:#E1E4E8;">((</span><span style="color:#9ECBFF;">&quot;guild id: %d, name: %s, display id: %d&quot;</span><span style="color:#E1E4E8;">):</span><span style="color:#79B8FF;">format</span><span style="color:#E1E4E8;">(guild_id, guild_name, guild_display_id))</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> guild_channels </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">get_cqhttp_guild_channels</span><span style="color:#E1E4E8;">(guild_id)</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">print</span><span style="color:#E1E4E8;">(json.</span><span style="color:#79B8FF;">encode</span><span style="color:#E1E4E8;">(guild_channels))</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">-- local owner_info = coromega:get_cqhttp_guild_member(guild_id, &quot;xxxxxxxxxxx&quot;)</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">-- print(json.encode(owner_info))</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">end</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">send_cqhttp_message</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;群聊:548589654&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;hello world 1&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">send_cqhttp_message_to_default</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;hello world 2&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">send_cqhttp_message_to_id</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1634268014</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;hello world 3&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">send_cqhttp_message_to_group</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">548589654</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;hello world 4&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">send_cqhttp_message_to_guild</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">671889153994807378</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">606767554</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;hello world 5&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">end</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">when_receive_cqhttp_message</span><span style="color:#E1E4E8;">():</span><span style="color:#79B8FF;">start_new</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">(message_type, message, raw_message_string)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">print</span><span style="color:#E1E4E8;">((</span><span style="color:#9ECBFF;">&quot;cqhttp 消息&gt; message type: %s, message: %s, raw message string: %s&quot;</span><span style="color:#E1E4E8;">):</span><span style="color:#79B8FF;">format</span><span style="color:#E1E4E8;">(message_type, message,</span></span>
<span class="line"><span style="color:#E1E4E8;">        raw_message_string))</span></span>
<span class="line"><span style="color:#F97583;">end</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">when_receive_filtered_cqhttp_message_from_default</span><span style="color:#E1E4E8;">():</span><span style="color:#79B8FF;">start_new</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">(source, name, message)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">print</span><span style="color:#E1E4E8;">((</span><span style="color:#9ECBFF;">&quot;cqhttp 默认监听对象&gt; 来源: %s, 名字: %s, 消息: %s&quot;</span><span style="color:#E1E4E8;">):</span><span style="color:#79B8FF;">format</span><span style="color:#E1E4E8;">(source, name, message))</span></span>
<span class="line"><span style="color:#F97583;">end</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">coromega</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">run</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> omega </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">require</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;omega&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#005CC5;">package.path</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">&quot;%s;%s&quot;</span><span style="color:#24292E;">):</span><span style="color:#005CC5;">format</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">package.path</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    omega.</span><span style="color:#6F42C1;">storage_path</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">get_code_path</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;LuaLoader&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;?.lua&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> coromega </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">require</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;coromega&quot;</span><span style="color:#24292E;">).</span><span style="color:#005CC5;">from</span><span style="color:#24292E;">(omega)</span></span>
<span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> json </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">require</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;json&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">start_new</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">function</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">local</span><span style="color:#24292E;"> group_members_info </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">get_cqhttp_group_members_info</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">548589654</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">print</span><span style="color:#24292E;">(json.</span><span style="color:#005CC5;">encode</span><span style="color:#24292E;">(group_members_info))</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">local</span><span style="color:#24292E;"> joined_guilds </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">get_cqhttp_joined_guilds</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">print</span><span style="color:#24292E;">(json.</span><span style="color:#005CC5;">encode</span><span style="color:#24292E;">(joined_guilds))</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> _, guild </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">ipairs</span><span style="color:#24292E;">(joined_guilds) </span><span style="color:#D73A49;">do</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">local</span><span style="color:#24292E;"> guild_id </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> guild.</span><span style="color:#6F42C1;">GuildID</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">local</span><span style="color:#24292E;"> guild_name </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> guild.</span><span style="color:#6F42C1;">GuildName</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">local</span><span style="color:#24292E;"> guild_display_id </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> guild.</span><span style="color:#6F42C1;">GuildDisplayID</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">print</span><span style="color:#24292E;">((</span><span style="color:#032F62;">&quot;guild id: %d, name: %s, display id: %d&quot;</span><span style="color:#24292E;">):</span><span style="color:#005CC5;">format</span><span style="color:#24292E;">(guild_id, guild_name, guild_display_id))</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">local</span><span style="color:#24292E;"> guild_channels </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">get_cqhttp_guild_channels</span><span style="color:#24292E;">(guild_id)</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">print</span><span style="color:#24292E;">(json.</span><span style="color:#005CC5;">encode</span><span style="color:#24292E;">(guild_channels))</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">-- local owner_info = coromega:get_cqhttp_guild_member(guild_id, &quot;xxxxxxxxxxx&quot;)</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">-- print(json.encode(owner_info))</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">end</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">send_cqhttp_message</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;群聊:548589654&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;hello world 1&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">send_cqhttp_message_to_default</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;hello world 2&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">send_cqhttp_message_to_id</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1634268014</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;hello world 3&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">send_cqhttp_message_to_group</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">548589654</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;hello world 4&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">send_cqhttp_message_to_guild</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">671889153994807378</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">606767554</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;hello world 5&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">end</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">when_receive_cqhttp_message</span><span style="color:#24292E;">():</span><span style="color:#005CC5;">start_new</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(message_type, message, raw_message_string)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">print</span><span style="color:#24292E;">((</span><span style="color:#032F62;">&quot;cqhttp 消息&gt; message type: %s, message: %s, raw message string: %s&quot;</span><span style="color:#24292E;">):</span><span style="color:#005CC5;">format</span><span style="color:#24292E;">(message_type, message,</span></span>
<span class="line"><span style="color:#24292E;">        raw_message_string))</span></span>
<span class="line"><span style="color:#D73A49;">end</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">when_receive_filtered_cqhttp_message_from_default</span><span style="color:#24292E;">():</span><span style="color:#005CC5;">start_new</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(source, name, message)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">print</span><span style="color:#24292E;">((</span><span style="color:#032F62;">&quot;cqhttp 默认监听对象&gt; 来源: %s, 名字: %s, 消息: %s&quot;</span><span style="color:#24292E;">):</span><span style="color:#005CC5;">format</span><span style="color:#24292E;">(source, name, message))</span></span>
<span class="line"><span style="color:#D73A49;">end</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">coromega</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">run</span><span style="color:#24292E;">()</span></span></code></pre></div>`,25),e=[p];function t(c,r,E,y,i,d){return l(),a("div",null,e)}const _=s(o,[["render",t]]);export{g as __pageData,_ as default};
